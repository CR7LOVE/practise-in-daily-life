<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Performance Timing API</title>
</head>
<body>
    <script>
      performanceTest();

      function performanceTest() {
        let timing = performance.timing, readyStart = timing.fetchStart - timing.navigationStart,
          redirectTime = timing.redirectEnd - timing.redirectStart,
          appcacheTime = timing.domainLookupStart - timing.fetchStart,
          unloadEventTime = timing.unloadEventEnd - timing.unloadEventStart,
          lookupDomainTime = timing.domainLookupEnd - timing.domainLookupStart,
          connectTime = timing.connectEnd - timing.connectStart, requestTime = timing.responseEnd - timing.requestStart,
          initDomTreeTime = timing.domInteractive - timing.responseEnd,
          domReadyTime = timing.domComplete - timing.domInteractive,
          loadEventTime = timing.loadEventEnd - timing.loadEventStart,
          loadTime = timing.loadEventEnd - timing.navigationStart;
        console.log(' 准备新页面时间耗时: ' + readyStart);
        console.log(' redirect 重定向耗时: ' + redirectTime);
        console.log(' Appcache 耗时: ' + appcacheTime);
        console.log(' unload 前文档耗时: ' + unloadEventTime);
        console.log(' DNS 查询耗时: ' + lookupDomainTime);
        console.log(' TCP 连接耗时: ' + connectTime);
        console.log(' request 请求耗时: ' + requestTime);
        console.log(' 请求完毕至 DOM 加载: ' + initDomTreeTime);
        console.log(' 解析 DOM 树耗时: ' + domReadyTime);
        console.log(' load 事件耗时: ' + loadEventTime);
        console.log(' 加载时间耗时: ' + loadTime);
      }
    </script>
</body>
</html>